// Dota Heroes File
"DOTAAbilities"
{
	"Version"		"1"

    "battlebeyond_ability_building_auto_root"
    {
        "BaseClass"                     "ability_datadriven"
        "MaxLevel"                      "1"
        "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
        
        "Modifiers"
        {
            "battlebeyond_modifier_auto_root"
            {
                "Passive"                       "1"
                "IsHidden"                      "1"
                "Attribute"                     "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
                
                "States"
                {
                    "MODIFIER_STATE_ROOTED"                     "MODIFIER_STATE_VALUE_ENABLED"
                }
            }
        }
    }
    "battlebeyond_ability_unit_create_settlement"
    {
        "BaseClass"                     "ability_datadriven"
        "AbilityTextureName"            "battlebeyond_ability_unit_create_building"
        "MaxLevel"                      "1"
        
        "AbilityCastPoint"              ".0"
        "AbilityChannelTime"            "3"
        "AbilityBehavior"              "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
        "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_BASIC"
        
        "OnChannelSucceeded"
        {
            "RunScript"
            {
                "ScriptFile"                        "buildings/init.lua"
                "Function"                          "BattleBeyond_createBuilding"
                "unitType"                          "building_village"
            }
        }
    }
    "battlebeyond_ability_unit_create_barracks"
    {
        "BaseClass"                     "ability_datadriven"
        "AbilityTextureName"            "battlebeyond_ability_unit_create_building"
        "MaxLevel"                      "1"
        
        "AbilityCastPoint"              ".0"
        "AbilityCastRange"              "500"
        "AbilityChannelTime"            "3"
        "AbilityBehavior"              "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_POINT"
        "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_BASIC"
        
        "OnChannelSucceeded"
        {
            "RunScript"
            {
                "ScriptFile"                        "buildings/init.lua"
                "Function"                          "BattleBeyond_createBuilding"
                "unitType"                          "building_barracks"
                "Target"                            "POINT"
            }
        }
    }
    "battlebeyond_ability_unit_create_settler"
    {
        "BaseClass"                     "ability_datadriven"
        "AbilityTextureName"            "battlebeyond_ability_unit_create_settler"
        "MaxLevel"                      "1"
        
        "AbilityGoldCost"               "100"
        "AbilityCastPoint"              ".0"
        "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
        "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_BASIC"
        
        "OnSpellStart"
        {
            "ApplyModifier"
            {
                "ModifierName"                      "battlebeyond_modifier_unit_create_settler"
                "Target"                            "CASTER"
            }
            "RunScript"
            {
                "ScriptFile"                        "buildings/init.lua"
                "Function"                          "BattleBeyond_updateModifier"
                "Type"                              "battlebeyond_event_increase_stack"
                "Modifier"                          "battlebeyond_modifier_unit_create_settler"
                "unitType"                          "battlebeyond_unit_settler"
            }
        }
        "Modifiers"
        {
            "battlebeyond_modifier_unit_create_settler"
            {
                "Attribute"                         "MODIFIER_ATTRIBUTE_MULTIPLE"
                "ThinkInterval"                     "5"
                "OnIntervalThink"
                {
                    "RunScript"
                    {
                        "ScriptFile"                            "buildings/init.lua"
                        "Function"                              "BattleBeyond_updateModifier"
                        "Modifier"                              "battlebeyond_modifier_unit_create_settler"
                        "unitType"                              "battlebeyond_unit_settler"
                    }
                }
            }
        }
    }
    "battlebeyond_ability_unit_create_worker"
    {
        "BaseClass"                     "ability_datadriven"
        "AbilityTextureName"            "battlebeyond_ability_unit_create_worker"
        "MaxLevel"                      "1"
        
        "AbilityGoldCost"               "100"
        "AbilityCastPoint"              ".0"
        "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
        "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_BASIC"
        
        "OnSpellStart"
        {
            "ApplyModifier"
            {
                "ModifierName"                      "battlebeyond_modifier_unit_create_worker"
                "Target"                            "CASTER"
            }
            "RunScript"
            {
                "ScriptFile"                        "buildings/init.lua"
                "Function"                          "BattleBeyond_updateModifier"
                "Type"                              "battlebeyond_event_increase_stack"
                "Modifier"                          "battlebeyond_modifier_unit_create_worker"
                "unitType"                          "battlebeyond_unit_worker"
            }
        }
        "Modifiers"
        {
            "battlebeyond_modifier_unit_create_worker"
            {
                "Attribute"                         "MODIFIER_ATTRIBUTE_MULTIPLE"
                "ThinkInterval"                     "5"
                "OnIntervalThink"
                {
                    "RunScript"
                    {
                        "ScriptFile"                            "buildings/init.lua"
                        "Function"                              "BattleBeyond_updateModifier"
                        "Modifier"                              "battlebeyond_modifier_unit_create_worker"
                        "unitType"                              "battlebeyond_unit_worker"
                    }
                }
            }
        }
    }
}
